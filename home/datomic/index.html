<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,300,300italic,400italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>

  <title>Datomic</title>

  



  
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/highlight/styles/solarized_light.css" rel="stylesheet" />



  <link href="/css/style.css" rel="stylesheet">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="/img/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Molecule" />
</head>
<body>
<br>
<div class="container">
  <div class="col-md-12 column" style="padding-left:0px;">
    <div class="col-md-12 column" style="padding-left:0px;height:30px;">

  <div class="col-sm-11 column" style="padding-left:0;">
    <ul class="nav nav-pills">
    
    
      
      <li class="dropdown active">
        <a data-toggle="dropdown" 
          href="/" target="_top" 
          onclick="javascript:top.location = '/';return true;">Molecule</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
                <li><a href="http://localhost:1313/">Home</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/home/introduction/">Introduction</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/home/datomic/">Datomic</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/home/setup/">Setup</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/home/about/">About</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://localhost:1313/compare/overview/" target="_top" 
          onclick="javascript:top.location = 'http:\/\/localhost:1313\/compare\/overview\/';return true;">Compare</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://localhost:1313/compare/sql/">SQL</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://localhost:1313/tutorials/overview/" target="_top" 
          onclick="javascript:top.location = 'http:\/\/localhost:1313\/tutorials\/overview\/';return true;">Tutorials</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://localhost:1313/tutorials/seattle/">Seattle</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://localhost:1313/manual/overview/" target="_top" 
          onclick="javascript:top.location = 'http:\/\/localhost:1313\/manual\/overview\/';return true;">Manual</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li class="dropdown-submenu">
                  <a href="http://localhost:1313/manual/basics/">Basics</a>
                  <ul class="dropdown-menu">
                  
                    <li><a href="http://localhost:1313/manual/basics/attributes/">Attributes</a></li>
                  
                  </ul>
                </li>
              
            
          
            
              
                <li><a href="http://localhost:1313/manual/database-setup/">Database setup</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/manual/modelling/">Modelling</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/manual/schema-definition/">Schema definition</a></li>
              
            
          
            
              
                <li><a href="http://localhost:1313/manual/populate-database/">Populate database</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://localhost:1313/developer/overview/" target="_top" 
          onclick="javascript:top.location = 'http:\/\/localhost:1313\/developer\/overview\/';return true;">Developer</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://localhost:1313/developer/transformation/">Transformation</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://localhost:1313/community/overview/" target="_top" 
          onclick="javascript:top.location = 'http:\/\/localhost:1313\/community\/overview\/';return true;">Community</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://localhost:1313/community/forum/">Forum</a></li>
              
            
          
        </ul>
      </li>
    
    </ul>
  </div>

  <div class="col-xs-1 column" style="padding:4px;height:25px;float:right;">
    <a href="https://github.com/scalamolecule/molecule" 
    class="github-button" 
    data-icon="octicon-star"
    >Github</a>
    
  </div>

</div>
  </div> 

<div class="col-sm-2 column" style="padding-left:0;padding-top:22px;padding-left:10px;">
  <ul style="list-style: none; padding:0; margin:0;font-size:12px;">
	  
	  
	           
	      
	      	
		        <li><a href="http://localhost:1313/">Home</a></li>
              
	        
	      
	      	
		        <li><a href="http://localhost:1313/home/introduction/">Introduction</a></li>
              
	        
	      
	      	
            <li class="active">Datomic</li>
              
  	      
	      
	      	
		        <li><a href="http://localhost:1313/home/setup/">Setup</a></li>
              
	        
	      
	      	
		        <li><a href="http://localhost:1313/home/about/">About</a></li>
              
	        
	      
	    
	  
  </ul>
</div>

<div class="col-sm-10 column" style="padding:0;">
	

<h1 id="datomic-and-molecule:fce8223ee4fefc246edc14cd715d3099">Datomic and Molecule</h1>

<p>Molecule is a domain-tailored abstraction layer on top of the Datomic database. It can therefore be good to know a little about Datomic in order to understand Molecule.</p>

<h3 id="facts-datoms-with-time-built-in:fce8223ee4fefc246edc14cd715d3099">Facts/Datoms with time built in</h3>

<p>Instead of mapping objects to tables or documents, the core unit of data in Molecule is an atomic piece of information: an <em>attribute</em>.</p>

<p>Attributes are composed to form &ldquo;molecules&rdquo; that describe unique and flexible data structures in endless combinations suiting your domain. Those are then translated to Datalog queries being executed against the underlying Datomic database.</p>

<p>An attribute in Datomic is part of <em>fact</em> or <em>Datom</em> consisting of four elements:</p>

<pre><code> John     likes    pizza       12:35:54
   |        |        |            |
Entity  Attribute  Value  Transactiion/time
</code></pre>

<p>In this example, <em>likes</em> is an <code>attribute</code> and it has the <code>value</code> <em>pizza</em>. It is <strong>asserted</strong> that
the <code>entity</code> <em>John</em> likes pizza at <code>transaction</code> time 12:35:54.</p>

<h3 id="immutable-data:fce8223ee4fefc246edc14cd715d3099">Immutable data</h3>

<p>Everytime a fact is asserted the old value of the attribute is <em>not deleted</em>. A Datomic database
is immutable. We can go back in time and see the values of an attribute <em>at any point in time</em>. We could for
instance see all our previous addresses if this was part of our domain model.</p>

<p>Also when we delete data, it&rsquo;s actually not deleted, but &ldquo;retracted&rdquo;. Retracted data doesn&rsquo;t show
 up when we are querying the current database. But if we look at the database at an earlier point in
  time we can see the data before it got retracted.</p>

<h3 id="namespaces-and-attributes:fce8223ee4fefc246edc14cd715d3099">Namespaces and attributes</h3>

<p><code>attributes</code> are organized in <code>namespaces</code> to group related qualities of our domain:</p>

<p><img src="/img/DatomicElements1.png" alt="" />
</p>

<h3 id="entity-row-in-an-sql-table:fce8223ee4fefc246edc14cd715d3099">Entity != row in an sql Table</h3>

<p>An <code>entity</code> can have <em>any</em> <code>attribute</code> from <em>any</em> <code>namespace</code> associated to it:</p>

<p><img src="/img/DatomicElements2.png" alt="" />
</p>

<p>An entity is therefore not like a row in a table but rather a &ldquo;cross-cutting&rdquo; thing that we can
freely associate any attribute value to. Note how &ldquo;attrB1&rdquo; in this example is not associated to entity1.</p>

</div>

     
  </div> 
</div> 



<script type="text/javascript" src="/js/jquery-1.11.2.min.js"></script>



<script type="text/javascript" src="/js/bootstrap.min.js"></script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/scripts.js"></script>




<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2787756-3', 'auto');
  ga('send', 'pageview');

</script>
    
<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>