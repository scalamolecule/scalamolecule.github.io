<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,300,300italic,400italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>

  <title>Introduction</title>

  



  
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/highlight/styles/solarized_light.css" rel="stylesheet" />



  <link href="/css/style.css" rel="stylesheet">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="/img/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Molecule" />
</head>
<body>
<br>
<div class="container">
  <div class="col-md-12 column" style="padding-left:0px;">
    <div class="col-md-12 column" style="padding-left:0px;height:30px;">

  <div class="col-sm-11 column" style="padding-left:0;">
    <ul class="nav nav-pills">
    
    
      
      <li class="dropdown active">
        <a data-toggle="dropdown" 
          href="/"
          onclick="window.location.href='/';">Molecule</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
                <li><a href="http://scalamolecule.github.io/">Home</a></li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/home/introduction/">Introduction</a></li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/home/setup/">Setup</a></li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/home/about/">About</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://scalamolecule.github.io/compare/overview/"
          onclick="window.location.href='http:\/\/scalamolecule.github.io\/compare\/overview\/';">Compare</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/compare/sql/">SQL</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://scalamolecule.github.io/tutorials/overview/"
          onclick="window.location.href='http:\/\/scalamolecule.github.io\/tutorials\/overview\/';">Tutorials</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/tutorials/seattle/">Seattle</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://scalamolecule.github.io/manual/overview/"
          onclick="window.location.href='http:\/\/scalamolecule.github.io\/manual\/overview\/';">Manual</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li class="dropdown-submenu">
                  <a href="http://scalamolecule.github.io/manual/basics/">Basics</a>
                  <ul class="dropdown-menu">
                  
                    <li><a href="http://scalamolecule.github.io/manual/basics/attributes/">Attributes</a></li>
                  
                  </ul>
                </li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/manual/database-setup/">Database setup</a></li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/manual/modelling/">Modelling</a></li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/manual/schema-definition/">Schema definition</a></li>
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/manual/populate-database/">Populate database</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://scalamolecule.github.io/developer/overview/"
          onclick="window.location.href='http:\/\/scalamolecule.github.io\/developer\/overview\/';">Developer</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/developer/transformation/">Transformation</a></li>
              
            
          
        </ul>
      </li>
    
      
      <li class="dropdown ">
        <a data-toggle="dropdown" 
          href="http://scalamolecule.github.io/community/overview/"
          onclick="window.location.href='http:\/\/scalamolecule.github.io\/community\/overview\/';">Community</a>
        <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
          
            
              
            
          
            
              
                <li><a href="http://scalamolecule.github.io/community/forum/">Forum</a></li>
              
            
          
        </ul>
      </li>
    
    </ul>
  </div>

  <div class="col-xs-1 column" style="padding:4px;height:25px;float:right;">
    <a href="https://github.com/scalamolecule/molecule" 
    class="github-button" 
    data-icon="octicon-star"
    data-count-href="/scalamolecule/stargazers" 
    data-count-api="/repos/scalamolecule/molecule#stargazers_count">Github</a>
  </div>

</div>
  </div> 

<div class="col-sm-2 column" style="padding-left:0;padding-top:22px;padding-left:10px;">
  <ul style="list-style: none; padding:0; margin:0;font-size:12px;">
	  
	  
	           
	      
	      	
		        <li><a href="http://scalamolecule.github.io/">Home</a></li>
              
	        
	      
	      	
            <li class="active">Introduction</li>
              
  	      
	      
	      	
		        <li><a href="http://scalamolecule.github.io/home/setup/">Setup</a></li>
              
	        
	      
	      	
		        <li><a href="http://scalamolecule.github.io/home/about/">About</a></li>
              
	        
	      
	    
	  
  </ul>
</div>

<div class="col-sm-10 column" style="padding:0;">
	

<h1 id="molecule-introduction:2767292a573dc549b9b4297b701af3ab">Molecule introduction</h1>

<p>Facts like</p>

<pre>John likes pizza 12:35:54</pre>

<p>are stored in Datomic as <code>Datom</code>s having these 4 basic elements:</p>

<p><code>entity</code> <code>attribute</code> <code>value</code> <code>transaction</code>(time)</p>

<p>In this example, <em>likes</em> is an <code>attribute</code> and it has the <code>value</code> <em>pizza</em>. It is <strong>asserted</strong> that
the <code>entity</code> <em>John</em> likes pizza at <code>transaction</code> time 12:35:54.</p>

<h3 id="immutable-data:2767292a573dc549b9b4297b701af3ab">Immutable data</h3>

<p>Everytime a fact is asserted the old value of the attribute is <em>not deleted</em>. A Datomic database
is immutable. We can go back in time and see the values of an attribute <em>at any point in time</em>. We could for
instance see all our previous addresses if this was part of our domain model.</p>

<p>Also when we delete data, it&rsquo;s actually not deleted, but &ldquo;retracted&rdquo;. Retracted data doesn&rsquo;t show
 up when we are querying the current database. But if we look at the database at an earlier point in
  time we can see the data before it got retracted.</p>

<h3 id="namespaces-and-attributes:2767292a573dc549b9b4297b701af3ab">Namespaces and attributes</h3>

<p><code>attributes</code> are typically organized in <code>namespaces</code> to group related qualities of our domain:</p>

<p><img src="/img/DatomicElements1.png" alt="" />
</p>

<h3 id="entity-row-in-an-sql-table:2767292a573dc549b9b4297b701af3ab">Entity != row in an sql Table</h3>

<p>An <code>entity</code> can have <em>any</em> <code>attribute</code> from <em>any</em> <code>namespace</code> associated to it:</p>

<p><img src="/img/DatomicElements2.png" alt="" />
</p>

<p>An entity is therefore not like a row in a table but rather a &ldquo;cross-cutting&rdquo; thing that we can
freely associate any attribute value to. Note how &ldquo;attrB1&rdquo; in this example is not associated to entity1.</p>

<h3 id="molecules:2767292a573dc549b9b4297b701af3ab">Molecules</h3>

<p>If we imagine attributes as atomic data units, then we can
imagine molecules as 3-dimensional data structures composed of atoms.</p>

<p>In Molecule we use the builder pattern to model such data structures, attribute
by attribute until we have a desired data structure. We could model <code>entity1</code>
from the example above as</p>

<pre><code class="language-scala">NamespaceA.attrA1.attrA2.NamespaceB.attrB2
</code></pre>

<h3 id="queries-with-molecules:2767292a573dc549b9b4297b701af3ab">Queries with molecules</h3>

<p>If a namespace <code>Community</code> has two attributes <code>name</code> and <code>url</code> we can
model a data structure of community names and urls as a molecule and then ask
the database to return those to us as a list of tuples with <code>name</code>/<code>url</code> values:</p>

<pre><code class="language-scala">val namesAndUrls: List[(String, String)] = m(Community.name.url).get
</code></pre>

<p>Note how the return types of <code>name</code> and <code>url</code> are infered.</p>

<p>Implicit conversions even allow us to condense our query.</p>

<pre><code class="language-scala">val namesAndUrls = Community.name.url.get
</code></pre>

<h3 id="values-and-expressions:2767292a573dc549b9b4297b701af3ab">Values and expressions</h3>

<p>Values and expressions can be applied to attributes of our molecule so that
 we can express more complex data structures:</p>

<pre><code class="language-scala">Community.name.`type`(&quot;twitter&quot; or &quot;facebook_page&quot;)
</code></pre>

<p>Here we find <code>name</code>s of communities of a <code>type</code> that has either the value &ldquo;twitter&rdquo;
OR &ldquo;facebook_page&rdquo;. With your own definitions you can write similar
 complex queries in a simple way using the terms of your own domain.</p>

<h3 id="further-reading:2767292a573dc549b9b4297b701af3ab">Further reading&hellip;</h3>

<p>Go straight to the <a href="https://github.com/scalamolecule/wiki/Molecule-Seattle-tutorial">Molecule Seattle tutorial</a> to see a wide range of
 queries that Molecule can express, or check out first how we use Molecule to
 <a href="https://github.com/scalamolecule/wiki/Setup-a-Datomic-database">setup the database</a> and <a href="https://github.com/scalamolecule/wiki/Populate-the-database">populated it with data</a>.</p>

</div>

     
  </div> 
</div> 



<script type="text/javascript" src="/js/jquery-1.11.2.min.js"></script>



<script type="text/javascript" src="/js/bootstrap.min.js"></script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/scripts.js"></script>




<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2787756-3', 'auto');
  ga('send', 'pageview');

</script>
    
</body>
</html>