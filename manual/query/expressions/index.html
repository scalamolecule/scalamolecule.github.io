<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,300,300italic,400italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
  <title>Expressions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/highlight/styles/solarized_light.css" rel="stylesheet" />
  <link href="/css/style.css" rel="stylesheet">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="/img/favicon.png">
  <link href="" rel="alternate" type="application/rss+xml" title="Molecule" />
</head>
<body>
<br>
<div class="container">
  <div class="col-md-12 column" style="padding-left:0px; ">
    <div class="col-md-12 column" style="padding-left:0px;height:30px;">

    <ul class="nav nav-pills">
      <li class="dropdown ">
        <a data-toggle="dropdown" href="http://localhost:1313/home/front/" target="_top" onclick="javascript:top.location = 'http:\/\/localhost:1313\/home\/front\/';return true;">Molecule</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li><a href="http://localhost:1313/home/front/">Home</a></li>
            <li><a href="http://localhost:1313/home/introduction/">Introduction</a></li>
            <li><a href="http://localhost:1313/home/setup/">Setup</a></li>
            <li><a href="http://localhost:1313/home/about/">About</a></li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="http://localhost:1313/compare/overview/" target="_top" onclick="javascript:top.location = 'http:\/\/localhost:1313\/compare\/overview\/';return true;">Compare</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li><a href="http://localhost:1313/compare/datomic/">Datomic</a></li>
            <li class="dropdown-submenu">
              <a href="http://localhost:1313/compare/sql/">SQL</a>
              <ul class="dropdown-menu">
                <li><a href="http://localhost:1313/compare/sql/slick/">Slick</a></li>
              </ul>
            </li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="http://localhost:1313/tutorials/overview/" target="_top" onclick="javascript:top.location = 'http:\/\/localhost:1313\/tutorials\/overview\/';return true;">Tutorials</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li><a href="http://localhost:1313/tutorials/seattle/">Seattle</a></li>
        </ul>
      </li>
      <li class="dropdown active">
        <a data-toggle="dropdown" href="http://localhost:1313/manual/overview/" target="_top" onclick="javascript:top.location = 'http:\/\/localhost:1313\/manual\/overview\/';return true;">Manual</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li class="dropdown-submenu">
              <a href="http://localhost:1313/manual/schema/">Schema</a>
              <ul class="dropdown-menu">
                <li><a href="http://localhost:1313/manual/schema/files/">Files</a></li>
                <li><a href="http://localhost:1313/manual/schema/attributes/">Attributes</a></li>
                <li><a href="http://localhost:1313/manual/schema/partitions/">Partitions</a></li>
                <li><a href="http://localhost:1313/manual/schema/modelling/">Modelling</a></li>
                <li><a href="http://localhost:1313/manual/schema/boilerplate/">Boilerplate</a></li>
                <li><a href="http://localhost:1313/manual/schema/datomic-schema/">Datomic</a></li>
              </ul>
            </li>
            <li><a href="http://localhost:1313/manual/setup/">Setup</a></li>
            <li><a href="http://localhost:1313/manual/insert/">Insert</a></li>
            <li><a href="http://localhost:1313/manual/update/">Update/retract</a></li>
            <li class="dropdown-submenu">
              <a href="http://localhost:1313/manual/query/">Query</a>
              <ul class="dropdown-menu">
                <li><a href="http://localhost:1313/manual/query/builder/">Builder</a></li>
                <li><a href="http://localhost:1313/manual/query/types/">Types</a></li>
                <li><a href="http://localhost:1313/manual/query/expressions/">Expressions</a></li>
                <li><a href="http://localhost:1313/manual/query/aggregates/">Aggregates</a></li>
                <li><a href="http://localhost:1313/manual/query/parameterize/">Parameterize</a></li>
                <li><a href="http://localhost:1313/manual/query/relationships/">Relationships</a></li>
              </ul>
            </li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="http://localhost:1313/developer/overview/" target="_top" onclick="javascript:top.location = 'http:\/\/localhost:1313\/developer\/overview\/';return true;">Developer</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li><a href="http://localhost:1313/developer/txdata/">Tx data</a></li>
            <li><a href="http://localhost:1313/developer/boilerplate/">Boilerplate</a></li>
            <li><a href="http://localhost:1313/developer/transformation/">Transformation</a></li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="http://localhost:1313/community/overview/" target="_top" onclick="javascript:top.location = 'http:\/\/localhost:1313\/community\/overview\/';return true;">Community</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
        </ul>
      </li>
      <li>
        <div  style="padding-left:14px;padding-top:3px;height:24px;float:right;">
            <a href="https://github.com/scalamolecule/molecule" class="github-button" data-icon="octicon-star">Github</a>
            
          </div>
      </li>
    </ul>

</div>
  </div> 

<div class="col-sm-10 column" style="padding-left:8px;">
	

<h1 id="expressions:ccf7e9e64ce1a51aa79e6eb1314d9467">Expressions</h1>

<h3 id="equality:ccf7e9e64ce1a51aa79e6eb1314d9467">Equality</h3>

<p>We can apply values to Attributes in order to filter the data structures we are looking for. We could for instance look for names of female persons:</p>

<pre><code class="language-scala">Person.age.apply(42)
</code></pre>

<p>or simply</p>

<pre><code class="language-scala">Person.age(42)
</code></pre>

<h3 id="or-logic:ccf7e9e64ce1a51aa79e6eb1314d9467">OR-logic</h3>

<p>We can apply OR-logic to find a selection of alternatives</p>

<pre><code class="language-scala">Person.age(40 or 41 or 42)
// .. same as
Person.age(40, 41, 42)
// .. same as
Person.age(List(40, 41, 42))
</code></pre>

<h3 id="negation:ccf7e9e64ce1a51aa79e6eb1314d9467">Negation</h3>

<p>We can exclude a certain attribute value</p>

<pre><code class="language-scala">Person.age.!=(42)
// or
Person.age.not(42)
</code></pre>

<p>With negations we can again apply multiple values as alternatives</p>

<pre><code class="language-scala">Person.age.!=(40 or 41 or 42)
Person.age.!=(40, 41, 42)
Person.age.!=(List(40, 41, 42))
</code></pre>

<h3 id="comparison:ccf7e9e64ce1a51aa79e6eb1314d9467">Comparison</h3>

<p>We can filer attribute values that satisfy comparison expressions:</p>

<pre><code class="language-scala">Person.age.&lt;(42)
Person.age.&gt;(42)
Person.age.&lt;=(42)
Person.age.&gt;=(42)
</code></pre>

<p>Comparison of all types are performed with java&rsquo;s <code>compareTo</code> method. Text strings can for instance also be sorted by a letter:</p>

<pre><code class="language-scala">Community.name.&lt;(&quot;C&quot;).get(3) === List(
  &quot;ArtsWest&quot;, &quot;All About South Park&quot;, &quot;Ballard Neighbor Connection&quot;)
</code></pre>

<h3 id="fulltext-search:ccf7e9e64ce1a51aa79e6eb1314d9467">Fulltext search</h3>

<p>If we add the <code>fullTextSearch</code> option to a String attribute definition Datomic will index the text strings saved so that we can do fulltext searches accross all values. We could for instance search for Community names containing the word &ldquo;Town&rdquo; in their name:</p>

<pre><code class="language-scala">Community.name.contains(&quot;Town&quot;)
</code></pre>

<p>Note that only full words are considered, so &ldquo;Tow&rdquo; won&rsquo;t match. Also the following common words are not considered:</p>

<pre><code>&quot;a&quot;, &quot;an&quot;, &quot;and&quot;, &quot;are&quot;, &quot;as&quot;, &quot;at&quot;, &quot;be&quot;, &quot;but&quot;, &quot;by&quot;,
&quot;for&quot;, &quot;if&quot;, &quot;in&quot;, &quot;into&quot;, &quot;is&quot;, &quot;it&quot;,
&quot;no&quot;, &quot;not&quot;, &quot;of&quot;, &quot;on&quot;, &quot;or&quot;, &quot;such&quot;,
&quot;that&quot;, &quot;the&quot;, &quot;their&quot;, &quot;then&quot;, &quot;there&quot;, &quot;these&quot;,
&quot;they&quot;, &quot;this&quot;, &quot;to&quot;, &quot;was&quot;, &quot;will&quot;, &quot;with&quot;
</code></pre>

<h3 id="we-can-use-variables-too:ccf7e9e64ce1a51aa79e6eb1314d9467">We can use variables too</h3>

<p>Even though Molecule introspects molecule constructions at compile time we can still use (runtime) variables for our expressions</p>

<pre><code class="language-scala">val youngAge = 25
val goodAge = 42
Person.age(goodAge)
Person.age.&gt;(goodAge)
Person.age.&lt;=(goodAge)
Person.age.&gt;=(goodAge)
Person.age.!=(goodAge)
Person.age.!=(youngAge or goodAge)
</code></pre>

<p>Technically, Molecule saves the TermName of the variable for later resolution at runtime so that we can freely use variables in our expressions.</p>

<pre><code class="language-scala">val ages = List(youngAge, goodAge)
Person.age(goodAge)
Person.age.&gt;(goodAge)
Person.age.&lt;=(goodAge)
Person.age.&gt;=(goodAge)
Person.age.!=(goodAge)
Person.age.!=(youngAge or goodAge)
// etc...
</code></pre>

</div>

<div class="col-sm-2 column" style="padding-left:20px;padding-top:22px">
  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix">
    <ul class="nav bs-docs-sidenav" style="list-style: none; font-size:13px;">
      
        
          
            
              <li><a href="http://localhost:1313/manual/overview/">Manual</a></li>
              
            
          
            
              <li><a href="http://localhost:1313/manual/schema/">Schema</a></li>
              
                <ul style="padding-left:25px;">
                  
                  <li><a href="http://localhost:1313/manual/schema/files/">Files</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/schema/attributes/">Attributes</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/schema/partitions/">Partitions</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/schema/modelling/">Modelling</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/schema/boilerplate/">Boilerplate</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/schema/datomic-schema/">Datomic</a></li>
                  
                
                </ul>
              
            
          
            
              <li><a href="http://localhost:1313/manual/setup/">Setup</a></li>
              
            
          
            
              <li><a href="http://localhost:1313/manual/insert/">Insert</a></li>
              
            
          
            
              <li><a href="http://localhost:1313/manual/update/">Update/retract</a></li>
              
            
          
            
              <li><a href="http://localhost:1313/manual/query/">Query</a></li>
              
                <ul style="padding-left:25px;">
                  
                  <li><a href="http://localhost:1313/manual/query/builder/">Builder</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/query/types/">Types</a></li>
                  
                
                  
                  <li class="active"><b>Expressions</b></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/query/aggregates/">Aggregates</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/query/parameterize/">Parameterize</a></li>
                  
                
                  
                  <li><a href="http://localhost:1313/manual/query/relationships/">Relationships</a></li>
                  
                
                </ul>
              
            
          
        
      
    </ul>
  </nav>
</div>

     
  </div> 
</div> 



<script type="text/javascript" src="/js/jquery-1.11.2.min.js"></script>



<script type="text/javascript" src="/js/bootstrap.min.js"></script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/scripts.js"></script>




<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2787756-3', 'auto');
  ga('send', 'pageview');

</script>
    
<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>