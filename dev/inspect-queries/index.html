<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"/>
    <title>Inspect Queries</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">



    <link href="css/highlight/styles/solarized_light.css" rel="stylesheet"/>
    <link href="css/syntax-custom.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="../../vendor/font-awesome/css/font-awesome.min.css">

    <link href="css/style.css" rel="stylesheet">

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../img/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../img/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../img/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../../img/apple-touch-icon-57-precomposed.png">

    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,600,700,700italic,800,800italic' rel='stylesheet' type='text/css'>

    
    
</head>
<body data-spy="scroll" data-target="#sidebar" data-offset="110">
<header class="bs-docs-header">

    <nav class="navbar navbar-inverse">
        <div class="container-fluid" style="max-width:1170px;padding-top:3px">
            
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="../../" style="padding-left: 6px; padding-right: 13px;"><img src="../../img/logo/MoleculeLogo150.png"></a>
            </div>

            
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    
                    
                        
                            <li class="dropdown">
                                <a href="../../intro/" target="_top">Intro</a>
                            </li>
                        
                    
                        
                            <li class="dropdown">
                                <a href="../../setup/" target="_top">Setup</a>
                            </li>
                        
                    
                        
                            <li class="dropdown">
                                <a href="../../code/" target="_top">Code</a>
                            </li>
                        
                    
                        
                            <li class="active">
                                <a href="../../dev/" target="_top">Dev</a>
                                <div></div>
                            </li>
                        
                    
                        
                            <li class="dropdown">
                                <a href="../../community/" target="_top">Community</a>
                            </li>
                        
                    
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://javadoc.io/doc/org.scalamolecule/molecule_2.13/latest/index.html" target="_blank" style="">Docs</a></li>
                    <li><a href="../../changelog" style="">v0.25.1</a></li>
                    <li><a href="https://github.com/scalamolecule/molecule" target="_blank">
                        <img src="../../vendor/GitHub-Mark/PNG/GitHub-Mark-Light-32px.png"
                             style="margin-top:-4px;padding-left:15px;opacity:0.6;width:42px;">
                    </a></li>
                </ul>
            </div>
        </div>
    </nav>

</header>

<div class="wrapper">

<div class="container-fluid" style="max-width:1170px">

    <div class="col-sm-10 " style="padding-left:8px;">
        <h1 id="inspect-queries">Inspect queries</h1>
<p>All molecule query commands have a corresponding inspect command that will print inspection information to console.</p>
<ul>
<li>&lt;molecule&gt;.<code>inspectGet</code></li>
<li>&lt;molecule&gt;.<code>inspectGetHistory</code></li>
<li>&lt;molecule&gt;.<code>inspectGetAsOf(...)</code></li>
<li>&lt;molecule&gt;.<code>inspectGetSince(...)</code></li>
<li>&lt;molecule&gt;.<code>inspectGetWith(...)</code></li>
</ul>
<h2 id="inspectget">inspectGet</h2>
<p>Simply replace a <code>get</code> command on a molecule with <code>inspectGet</code> to print inspection data when running the code in
a test for instance:</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="c1">// Molecule to be inspected
</span><span class="c1"></span><span class="nc">Community</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="nc">Neighborhood</span><span class="o">.</span><span class="nc">District</span><span class="o">.</span><span class="n">region_</span><span class="o">(</span><span class="s">&#34;ne&#34;</span> <span class="n">or</span> <span class="s">&#34;sw&#34;</span><span class="o">).</span><span class="n">get</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span> <span class="o">===</span> <span class="nc">List</span><span class="o">(</span>
  <span class="s">&#34;Beach Drive Blog&#34;</span><span class="o">,</span> 
  <span class="s">&#34;KOMO Communities - Green Lake&#34;</span><span class="o">,</span> 
  <span class="s">&#34;Delridge Produce Cooperative&#34;</span>
<span class="o">)</span>

<span class="c1">// Inspect `get`
</span><span class="c1"></span><span class="nc">Community</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="nc">Neighborhood</span><span class="o">.</span><span class="nc">District</span><span class="o">.</span><span class="n">region_</span><span class="o">(</span><span class="s">&#34;ne&#34;</span> <span class="n">or</span> <span class="s">&#34;sw&#34;</span><span class="o">).</span><span class="n">inspectGet</span>
</code></pre></div><p>This will print out the results of each stage of DSL transformation namely Model ⟶ Query ⟶ Datalog Query ⟶ Data:</p>
<pre><code>--------------------------------------------------------------------------
Model(List(
  Atom(&quot;Community&quot;, &quot;name&quot;, &quot;String&quot;, 1, VarValue, None, Seq(), Seq()),
  Bond(&quot;Community&quot;, &quot;neighborhood&quot;, &quot;Neighborhood&quot;, 1, Seq()),
  Bond(&quot;Neighborhood&quot;, &quot;district&quot;, &quot;District&quot;, 1, Seq()),
  Atom(&quot;District&quot;, &quot;region_&quot;, &quot;String&quot;, 1, Eq(Seq(&quot;ne&quot;, &quot;sw&quot;)), Some(&quot;:District.region/&quot;), Seq(), Seq())))

Query(
  Find(List(
    Var(&quot;b&quot;))),
  In(
    List(),
    List(
      Rule(&quot;rule1&quot;, Seq(Var(&quot;d&quot;)), Seq(
        DataClause(ImplDS, Var(&quot;d&quot;), KW(&quot;District&quot;, &quot;region&quot;, &quot;&quot;), Val(&quot;:District.region/ne&quot;), Empty, NoBinding))),
      Rule(&quot;rule1&quot;, Seq(Var(&quot;d&quot;)), Seq(
        DataClause(ImplDS, Var(&quot;d&quot;), KW(&quot;District&quot;, &quot;region&quot;, &quot;&quot;), Val(&quot;:District.region/sw&quot;), Empty, NoBinding)))),
    List(DS)),
  Where(List(
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Community&quot;, &quot;name&quot;, &quot;&quot;), Var(&quot;b&quot;), Empty, NoBinding),
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Community&quot;, &quot;neighborhood&quot;, &quot;Neighborhood&quot;), Var(&quot;c&quot;), Empty, NoBinding),
    DataClause(ImplDS, Var(&quot;c&quot;), KW(&quot;Neighborhood&quot;, &quot;district&quot;, &quot;District&quot;), Var(&quot;d&quot;), Empty, NoBinding),
    RuleInvocation(&quot;rule1&quot;, Seq(Var(&quot;d&quot;))))))

[:find  ?b
 :in    $ %
 :where [?a :Community/name ?b]
        [?a :Community/neighborhood ?c]
        [?c :Neighborhood/district ?d]
        (rule1 ?d)]

RULES: [
 [(rule1 ?d) [?d :District/region &quot;:District.region/ne&quot;]]
 [(rule1 ?d) [?d :District/region &quot;:District.region/sw&quot;]]
]

INPUTS: none

OUTPUTS:
1  [&quot;Beach Drive Blog&quot;]
2  [&quot;KOMO Communities - Green Lake&quot;]
3  [&quot;Delridge Produce Cooperative&quot;]
4  [&quot;Alki News&quot;]
5  [&quot;Longfellow Creek Community Website&quot;]
6  [&quot;Laurelhurst Community Club&quot;]
7  [&quot;Licton Springs Neighborhood &quot;]
8  [&quot;Friends of Green Lake&quot;]
9  [&quot;KOMO Communities - Wallingford&quot;]
10  [&quot;Magnuson Environmental Stewardship Alliance&quot;]
11  [&quot;MyWallingford&quot;]
12  [&quot;Greenwood Community Council Announcements&quot;]
13  [&quot;Alki News/Alki Community Council&quot;]
14  [&quot;Nature Consortium&quot;]
15  [&quot;Broadview Community Council&quot;]
16  [&quot;KOMO Communities - West Seattle&quot;]
17  [&quot;KOMO Communities - U-District&quot;]
18  [&quot;ArtsWest&quot;]
19  [&quot;Community Harvest of Southwest Seattle&quot;]
20  [&quot;Highland Park Improvement Club&quot;]
21  [&quot;Admiral Neighborhood Association&quot;]
22  [&quot;Morgan Junction Community Association&quot;]
23  [&quot;Greenwood Community Council&quot;]
24  [&quot;Greenwood Community Council Discussion&quot;]
25  [&quot;Genesee-Schmitz Neighborhood Council&quot;]
26  [&quot;Hawthorne Hills Community Website&quot;]
27  [&quot;KOMO Communities - View Ridge&quot;]
28  [&quot;Fauntleroy Community Association&quot;]
29  [&quot;KOMO Communities - Greenwood-Phinney&quot;]
30  [&quot;Delridge Grassroots Leadership&quot;]
31  [&quot;Aurora Seattle&quot;]
32  [&quot;Greenlake Community Wiki&quot;]
33  [&quot;Highland Park Action Committee&quot;]
34  [&quot;Maple Leaf Community Council&quot;]
35  [&quot;Greenwood Aurora Involved Neighbors&quot;]
36  [&quot;Greenwood Phinney Chamber of Commerce&quot;]
37  [&quot;Junction Neighborhood Organization&quot;]
38  [&quot;Delridge Neighborhoods Development Association&quot;]
39  [&quot;Greenwood Blog&quot;]
40  [&quot;My Greenlake Blog&quot;]
41  [&quot;Greenlake Community Council&quot;]
42  [&quot;Maple Leaf Life&quot;]
(showing up to 500 rows)
--------------------------------------------------------------------------
</code></pre><p>While the Model and Query are internal representations of the molecule, the Datalog query shows you what Molecule sends to Datomic.</p>
<p>Using inspectGet can also be a quick way to test if a required data set is correctly returned with some molecule.</p>
<h3 id="experiment-with-datalog-query">Experiment with Datalog query</h3>
<p>If you want to experiment with changing the raw Datalog query, you can copy an paste the Datalog query from console into the query call on the connection object:</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="n">conn</span><span class="o">.</span><span class="n">q</span><span class="o">(</span>
  <span class="c1">// Datalog query:
</span><span class="c1"></span>  <span class="s">&#34;&#34;&#34;[:find  ?b
</span><span class="s">    | :in    $ %
</span><span class="s">    | :where [?a :Community/name ?b]
</span><span class="s">    |        [?a :Community/neighborhood ?c]
</span><span class="s">    |        [?c :Neighborhood/district ?d]
</span><span class="s">    |        (rule1 ?d)]&#34;&#34;&#34;</span><span class="o">.</span><span class="n">stripMargin</span><span class="o">,</span>
  <span class="c1">// Input:
</span><span class="c1"></span>  <span class="s">&#34;&#34;&#34;[
</span><span class="s">    | [(rule1 ?d) [?d :District/region &#34;:District.region/ne&#34;]]
</span><span class="s">    | [(rule1 ?d) [?d :District/region &#34;:District.region/sw&#34;]]
</span><span class="s">    |]&#34;&#34;&#34;</span><span class="o">.</span><span class="n">stripMargin</span>
<span class="o">)</span> <span class="n">foreach</span> <span class="n">println</span>
</code></pre></div><p>Which will print the raw Datomic rows of data to console:</p>
<pre><code>List(Beach Drive Blog)
List(KOMO Communities - Green Lake)
List(Delridge Produce Cooperative)
List(Alki News)
List(Longfellow Creek Community Website)
List(Laurelhurst Community Club)
// etc...
</code></pre><h2 id="inspectgethistory">inspectGetHistory</h2>
<p>When examining data spanning multiple transactions, the time filter inspect commands can be very useful. Say we have 3 transactions:</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">tx1</span> <span class="k">=</span> <span class="nc">Ns</span><span class="o">.</span><span class="n">str</span><span class="o">(</span><span class="s">&#34;a&#34;</span><span class="o">).</span><span class="n">int</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="n">save</span>
<span class="k">val</span> <span class="n">e1</span>  <span class="k">=</span> <span class="n">tx1</span><span class="o">.</span><span class="n">eid</span>
<span class="k">val</span> <span class="n">t1</span>  <span class="k">=</span> <span class="n">tx1</span><span class="o">.</span><span class="n">t</span> <span class="c1">// 1028
</span><span class="c1"></span>
<span class="k">val</span> <span class="n">tx2</span> <span class="k">=</span> <span class="nc">Ns</span><span class="o">(</span><span class="n">e1</span><span class="o">).</span><span class="n">str</span><span class="o">(</span><span class="s">&#34;b&#34;</span><span class="o">).</span><span class="n">update</span>
<span class="k">val</span> <span class="n">t2</span>  <span class="k">=</span> <span class="n">tx2</span><span class="o">.</span><span class="n">t</span> <span class="c1">// 1030
</span><span class="c1"></span>
<span class="k">val</span> <span class="n">tx3</span> <span class="k">=</span> <span class="nc">Ns</span><span class="o">(</span><span class="n">e1</span><span class="o">).</span><span class="n">int</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="n">update</span>
<span class="k">val</span> <span class="n">t3</span>  <span class="k">=</span> <span class="n">tx3</span><span class="o">.</span><span class="n">t</span> <span class="c1">// 1031
</span></code></pre></div><p>Then we can for instance inspect the history of the <code>:Ns/str</code> attribute by calling the <code>inspectGetHistory</code> method:</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="nc">Ns</span><span class="o">(</span><span class="n">e1</span><span class="o">).</span><span class="n">str</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">inspectGetHistory</span>
</code></pre></div><p>And get the transformations and resulting data</p>
<pre><code>--------------------------------------------------------------------------
Model(List(
  Meta(&quot;?&quot;, &quot;e_&quot;, &quot;Long&quot;, Eq(Seq(17592186045445L))),
  Atom(&quot;Ns&quot;, &quot;str&quot;, &quot;String&quot;, 1, VarValue, None, Seq(), Seq()),
  Meta(&quot;?&quot;, &quot;t&quot;, &quot;t&quot;, NoValue),
  Meta(&quot;?&quot;, &quot;op&quot;, &quot;op&quot;, NoValue)))

Query(
  Find(List(
    Var(&quot;c&quot;),
    Var(&quot;c_t&quot;),
    Var(&quot;c_op&quot;))),
  In(
    List(
      InVar(CollectionBinding(Var(&quot;a&quot;)), Seq(Seq(17592186045445L)))),
    List(),
    List(DS)),
  Where(List(
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Ns&quot;, &quot;str&quot;, &quot;&quot;), Var(&quot;c&quot;), Var(&quot;c_tx&quot;), Var(&quot;c_op&quot;)),
    Funct(&quot;datomic.Peer/toT ^Long&quot;, Seq(Var(&quot;c_tx&quot;)), ScalarBinding(Var(&quot;c_t&quot;))))))

[:find  ?c ?c_t ?c_op
 :in    $ [?a ...]
 :where [?a :Ns/str ?c ?c_tx ?c_op]
        [(datomic.Peer/toT ^Long ?c_tx) ?c_t]]

RULES: none

INPUTS: 
1  [17592186045445]

OUTPUTS:
1  [&quot;b&quot; 1030 true]
2  [&quot;a&quot; 1028 true]
3  [&quot;a&quot; 1030 false]
(showing up to 500 rows)
--------------------------------------------------------------------------
</code></pre><p>We can see that the value &ldquo;a&rdquo; was asserted in transaction 1028, retracted in 1030 and the new value &ldquo;b&rdquo; asserted in 1030.</p>
<h2 id="inspectgetasof">inspectGetAsOf</h2>
<p>Using the same example transaction above we can inspect data at a certain point in time by calling <code>inspectGetAsOf(t)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="nc">Ns</span><span class="o">(</span><span class="n">e1</span><span class="o">).</span><span class="n">t</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">inspectGetAsOf</span><span class="o">(</span><span class="n">t1</span><span class="o">)</span>
</code></pre></div><p>And get</p>
<pre><code>--------------------------------------------------------------------------
Model(List(
  Meta(&quot;?&quot;, &quot;e_&quot;, &quot;Long&quot;, Eq(Seq(17592186045445L))),
  Atom(&quot;Ns&quot;, &quot;str&quot;, &quot;String&quot;, 1, VarValue, None, Seq(), Seq()),
  Meta(&quot;?&quot;, &quot;t&quot;, &quot;t&quot;, NoValue),
  Meta(&quot;?&quot;, &quot;op&quot;, &quot;op&quot;, NoValue)))

Query(
  Find(List(
    Var(&quot;c&quot;),
    Var(&quot;c_t&quot;),
    Var(&quot;c_op&quot;))),
  In(
    List(
      InVar(CollectionBinding(Var(&quot;a&quot;)), Seq(Seq(17592186045445L)))),
    List(),
    List(DS)),
  Where(List(
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Ns&quot;, &quot;str&quot;, &quot;&quot;), Var(&quot;c&quot;), Var(&quot;c_tx&quot;), Var(&quot;c_op&quot;)),
    Funct(&quot;datomic.Peer/toT ^Long&quot;, Seq(Var(&quot;c_tx&quot;)), ScalarBinding(Var(&quot;c_t&quot;))))))

[:find  ?c ?c_t ?c_op
 :in    $ [?a ...]
 :where [?a :Ns/str ?c ?c_tx ?c_op]
        [(datomic.Peer/toT ^Long ?c_tx) ?c_t]]

RULES: none

INPUTS: 
1  [17592186045445]

OUTPUTS:
1  [&quot;a&quot; 1028 true]
(showing up to 500 rows)
--------------------------------------------------------------------------
</code></pre><p>Showing the <code>:Ns/str</code> value at transaction 1028</p>
<h2 id="inspectgetsince">inspectGetSince</h2>
<p>Likewise we can get changes of attribute <code>:Ns/int</code> since transaction t1/1028</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="nc">Ns</span><span class="o">(</span><span class="n">e1</span><span class="o">).</span><span class="n">int</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">inspectGetSince</span><span class="o">(</span><span class="n">t1</span><span class="o">)</span>
</code></pre></div><p>And see that <code>:Ns/int</code> value 2 was asserted in transaction 1031:</p>
<pre><code>--------------------------------------------------------------------------
Model(List(
  Meta(&quot;?&quot;, &quot;e_&quot;, &quot;Long&quot;, Eq(Seq(17592186045445L))),
  Atom(&quot;Ns&quot;, &quot;int&quot;, &quot;Int&quot;, 1, VarValue, None, Seq(), Seq()),
  Meta(&quot;?&quot;, &quot;t&quot;, &quot;t&quot;, NoValue),
  Meta(&quot;?&quot;, &quot;op&quot;, &quot;op&quot;, NoValue)))

Query(
  Find(List(
    Var(&quot;c&quot;),
    Var(&quot;c_t&quot;),
    Var(&quot;c_op&quot;))),
  In(
    List(
      InVar(CollectionBinding(Var(&quot;a&quot;)), Seq(Seq(17592186045445L)))),
    List(),
    List(DS)),
  Where(List(
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Ns&quot;, &quot;int&quot;, &quot;&quot;), Var(&quot;c&quot;), Var(&quot;c_tx&quot;), Var(&quot;c_op&quot;)),
    Funct(&quot;datomic.Peer/toT ^Long&quot;, Seq(Var(&quot;c_tx&quot;)), ScalarBinding(Var(&quot;c_t&quot;))))))

[:find  ?c ?c_t ?c_op
 :in    $ [?a ...]
 :where [?a :Ns/int ?c ?c_tx ?c_op]
        [(datomic.Peer/toT ^Long ?c_tx) ?c_t]]

RULES: none

INPUTS: 
1  [17592186045445]

OUTPUTS:
1  [2 1031 true]
(showing up to 500 rows)
--------------------------------------------------------------------------
</code></pre><h2 id="inspectgetwith">inspectGetWith</h2>
<p>The <code>with</code> time filter is a bit special since transactional data is supplied to the method. So the <code>inspectGetWith(..)</code> method will also display the transactional data:</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="c1">// Normal `getWith` call with some sample data
</span><span class="c1"></span><span class="k">val</span> <span class="n">johnId</span> <span class="k">=</span> <span class="nc">Ns</span><span class="o">.</span><span class="n">str</span><span class="o">(</span><span class="s">&#34;John&#34;</span><span class="o">).</span><span class="n">int</span><span class="o">(</span><span class="mi">24</span><span class="o">).</span><span class="n">save</span><span class="o">.</span><span class="n">eid</span>
<span class="nc">Ns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">inspectGetWith</span><span class="o">(</span>
  <span class="nc">Ns</span><span class="o">.</span><span class="n">str</span><span class="o">(</span><span class="s">&#34;John&#34;</span><span class="o">).</span><span class="n">int</span><span class="o">(</span><span class="mi">24</span><span class="o">).</span><span class="n">getSaveStmts</span><span class="o">,</span>
  <span class="nc">Ns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">int</span> <span class="n">getInsertStmts</span> <span class="nc">List</span><span class="o">(</span>
    <span class="o">(</span><span class="s">&#34;Lisa&#34;</span><span class="o">,</span> <span class="mi">20</span><span class="o">),</span>
    <span class="o">(</span><span class="s">&#34;Pete&#34;</span><span class="o">,</span> <span class="mi">55</span><span class="o">)</span>
  <span class="o">),</span>
  <span class="nc">Ns</span><span class="o">(</span><span class="n">johnId</span><span class="o">).</span><span class="n">int</span><span class="o">(</span><span class="mi">25</span><span class="o">).</span><span class="n">getUpdateStmts</span>
<span class="o">)</span>
</code></pre></div><p>Will print Model ⟶ Query ⟶ Datalog Query ⟶ Data + statements for the 3 transaction molecules applied:</p>
<pre><code>--------------------------------------------------------------------------
Model(List(
  Atom(&quot;Ns&quot;, &quot;str&quot;, &quot;String&quot;, 1, VarValue, None, Seq(), Seq()),
  Atom(&quot;Ns&quot;, &quot;int&quot;, &quot;Int&quot;, 1, VarValue, None, Seq(), Seq())))

Query(
  Find(List(
    Var(&quot;b&quot;),
    Var(&quot;c&quot;))),
  Where(List(
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Ns&quot;, &quot;str&quot;, &quot;&quot;), Var(&quot;b&quot;), Empty, NoBinding),
    DataClause(ImplDS, Var(&quot;a&quot;), KW(&quot;Ns&quot;, &quot;int&quot;, &quot;&quot;), Var(&quot;c&quot;), Empty, NoBinding))))

[:find  ?b ?c
 :where [?a :Ns/str ?b]
        [?a :Ns/int ?c]]

RULES: none

INPUTS: none

OUTPUTS:
1  [&quot;John&quot; 25]
(showing up to 500 rows)
--------------------------------------------------------------------------

## 1 ## Statements, transaction molecule 1: 
================================================================================================================
1          List(
  1          List(
    1          :db/add    #db/id[:db.part/user -1000123]   :Ns/str              John
    2          :db/add    #db/id[:db.part/user -1000123]   :Ns/int              24))
================================================================================================================

## 2 ## Statements, transaction molecule 2: 
================================================================================================================
1          List(
  1          List(
    1          :db/add    #db/id[:db.part/user -1000124]   :Ns/str              Lisa
    2          :db/add    #db/id[:db.part/user -1000124]   :Ns/int              20)
  2          List(
    1          :db/add    #db/id[:db.part/user -1000125]   :Ns/str              Pete
    2          :db/add    #db/id[:db.part/user -1000125]   :Ns/int              55))
================================================================================================================

## 3 ## Statements, transaction molecule 3: 
================================================================================================================
1          List(
  1          List(
    1          :db/add    17592186045451                   :Ns/int              25))
================================================================================================================
</code></pre>
    </div>

    <div class="col-sm-2" style="padding-left:24px;padding-right: 0px;position:sticky;top:115px">
        
<button type="button" id="sidebarCollapse" class="navbar-toggle collapsed" data-toggle="collapse" style="color:#bbb">
  <i class="glyphicon glyphicon-align-left"></i>
</button>

<nav class="bs-docs-sidebar" id="sidebar">
  <ul class="bs-docs-sidenav nav">
    
      

        
        
          
            <li><a href="../../dev/">Macro transformations</a></li>
          
          
        
          
            <li class="open"><a href="../../dev/inspect-queries/"><b>Inspect Queries</b></a></li>
            
              <nav id="TableOfContents">
  <ul>
    <li><a href="#inspectget">inspectGet</a></li>
    <li><a href="#inspectgethistory">inspectGetHistory</a></li>
    <li><a href="#inspectgetasof">inspectGetAsOf</a></li>
    <li><a href="#inspectgetsince">inspectGetSince</a></li>
    <li><a href="#inspectgetwith">inspectGetWith</a></li>
  </ul>
</nav>
            
          
          
        
          
            <li><a href="../../dev/inspect-transactions/">Inspect Transactions</a></li>
          
          
        
          
            <li><a href="../../dev/optimizations/">Optimizations</a></li>
          
          
        
          
            <li><a href="../../dev/clojure-exchanges/">Clojure exchanges</a></li>
          
          
        
          
            <li><a href="../../dev/pitfalls/">Pitfalls</a></li>
          
          
        

      
    
  </ul>
</nav>
    </div>

</div> 

     
   
 


</div> 

<footer class="bs-docs-footer">

  <div class="container" style="font-size:15px">
    <ul class="bs-docs-footer-links">
      <li style="margin-top: 8px;"><a href="../../front/"><img src="../../img/logo/MoleculeLogo150.png" alt=""></a></li>
      <li><a href="https://github.com/scalamolecule/molecule">GitHub</a></li>
      <li><a href="https://github.com/scalamolecule/molecule-web">GitHub-web</a></li>
      <li><a href="https://gitter.im/scalamolecule/Lobby">Gitter</a></li>
      <li><a href="https://groups.google.com/forum/#!forum/molecule-dsl">Forum</a></li>
      <li><a href="../../about/">About</a></li>
      <li><a href="../../credits/">Credits</a></li>
      <li><a href="../../changelog">Changelog</a></li>
    </ul>
    <p>Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="license">Apache License 2.0</a></p>
  </div>
</footer>


<script type="text/javascript" src="../../js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="../../js/bootstrap.min.js"></script>


<script type="text/javascript" src="../../js/scripts.js"></script>
<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script src="../../js/copy-button.js"></script>
<script src="../../js/sidebar-collapser.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2787756-3', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
