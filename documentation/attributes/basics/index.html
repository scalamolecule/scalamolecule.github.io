<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,300,300italic,400italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
  <title>Basics</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/highlight/styles/solarized_light.css" rel="stylesheet" />
  <link href="/css/style.css" rel="stylesheet">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="/img/favicon.png">
  <link href="" rel="alternate" type="application/rss+xml" title="Molecule" />
</head>
<body>
<div class="wrapper">
<div class="container" style="padding-top:20px">
  <div class="col-md-12 column" style="padding-left:0px; margin-bottom:15px">
    <div class="col-md-12 column" style="padding-left:0px;height:50px;">

    <ul class="nav nav-pills">
      <li><a href="/" style="padding-left: 6px; padding-right: 13px; vertical-align: top; margin-top: 0px;"><img src="/img/logo/MoleculeLogo600.png" alt="" width="200"></a></li>
      
      <li class="dropdown ">
        <a data-toggle="dropdown" href="/compare/" target="_top" onclick="javascript:top.location = '\/compare\/';return true;">Compare</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li><a href="/compare/datomic/">Datomic</a></li>
            <li class="dropdown-submenu">
              <a href="/compare/sql/">SQL</a>
              <ul class="dropdown-menu">
                <li><a href="/compare/sql/slick/">Slick</a></li>
              </ul>
            </li>
            <li><a href="/compare/gremlin/">Gremlin</a></li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="/resources/" target="_top" onclick="javascript:top.location = '\/resources\/';return true;">Resources</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li class="dropdown-submenu">
              <a href="/resources/tutorials/">Tutorials</a>
              <ul class="dropdown-menu">
                <li><a href="/resources/tutorials/seattle/">Seattle</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/resources/videos/">Videos</a>
              <ul class="dropdown-menu">
                <li><a href="/resources/videos/2017-04-25_marc_grue/">Molecule presentation</a></li>
              </ul>
            </li>
        </ul>
      </li>
      <li class="dropdown active">
        <a data-toggle="dropdown" href="/documentation/" target="_top" onclick="javascript:top.location = '\/documentation\/';return true;">Documentation</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li class="dropdown-submenu">
              <a href="/documentation/getting-started/">Getting started</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/getting-started/introduction/">Introduction</a></li>
                <li><a href="/documentation/getting-started/quickstart/">Demo quickstart</a></li>
                <li><a href="/documentation/getting-started/project-setup/">Project setup</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/documentation/schema/">Schema</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/schema/transaction/">Transaction</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/documentation/attributes/">Attributes</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/attributes/basics/">Basics</a></li>
                <li><a href="/documentation/attributes/modes/">Mandatory/Tacet/Optional</a></li>
                <li><a href="/documentation/attributes/mapped/">Map attributes</a></li>
                <li><a href="/documentation/attributes/expressions/">Expressions</a></li>
                <li><a href="/documentation/attributes/aggregates/">Aggregates</a></li>
                <li><a href="/documentation/attributes/parameterized/">Parameterized</a></li>
              </ul>
            </li>
            <li><a href="/documentation/entities/">Entities</a></li>
            <li class="dropdown-submenu">
              <a href="/documentation/relationships/">Relationships</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/relationships/card-one/">Cardinality one</a></li>
                <li><a href="/documentation/relationships/card-many/">Cardinality many</a></li>
                <li><a href="/documentation/relationships/nested/">Nested</a></li>
                <li><a href="/documentation/relationships/composites/">Composites</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/documentation/crud/">CRUD</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/crud/save/">Save</a></li>
                <li><a href="/documentation/crud/insert/">Insert</a></li>
                <li><a href="/documentation/crud/get/">Get</a></li>
                <li><a href="/documentation/crud/update/">Update</a></li>
                <li><a href="/documentation/crud/retract/">Retract</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/documentation/transactions/">Transactions</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/transactions/tx-data/">Tx data</a></li>
                <li><a href="/documentation/transactions/tx-meta-data/">Tx meta data</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/documentation/time/">Time</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/time/asof/">AsOf</a></li>
                <li><a href="/documentation/time/since/">Since</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="/documentation/graphs/">Graphs</a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/graphs/self/">Self</a></li>
                <li><a href="/documentation/graphs/other/">Other</a></li>
                <li><a href="/documentation/graphs/edge-self/">Edge self</a></li>
                <li><a href="/documentation/graphs/edge-other/">Edge other</a></li>
              </ul>
            </li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="/developer/" target="_top" onclick="javascript:top.location = '\/developer\/';return true;">Developer</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
            <li><a href="/developer/boilerplate/">Boilerplate</a></li>
            <li><a href="/developer/transformation/">Transformation</a></li>
        </ul>
      </li>
      <li class="dropdown ">
        <a data-toggle="dropdown" href="/community/" target="_top" onclick="javascript:top.location = '\/community\/';return true;">Community</a>
          <ul class="dropdown-menu level1" role="menu" aria-labelledby="dropdownMenu">
        </ul>
      </li>
      <li>
        <div  style="padding-left:14px;padding-top:19px;height:24px;float:right;">
            <a href="https://github.com/scalamolecule/molecule" class="github-button" data-icon="octicon-star">Github</a>
            
          </div>
      </li>
    </ul>

</div>
  </div> 

<div class="col-sm-10 column" style="padding-left:8px;">
	

<h1 id="attribute-builder-pattern">Attribute builder pattern</h1>

<p>(See <a href="https://github.com/scalamolecule/molecule/blob/master/coretest/src/test/scala/molecule/attr/Attribute.scala">attribute tests</a>)</p>

<p>When we have defined a schema, Molecule generates the necessary boilerplate code so that we can build &ldquo;molecular data
 structures&rdquo; by building sequences of Attributes separated with dots (the &ldquo;builder pattern&rdquo;).</p>

<p>We could for instance build a molecule representing the data structure of Persons with name, age and gender Attributes:</p>

<pre><code class="language-scala">Person.name.age.gender // etc
</code></pre>

<p>The fundamental building blocks are Namespaces like <code>Person</code> and Attributes like <code>name</code>, <code>age</code> and <code>gender</code>. Namespaces
 are simply prefixes to Attribute names to avoid name clashes and to group our Attributes in meaningful ways according to our domain.</p>

<p>As you see we start our molecule from some Namespace and then build on Attribute by Attribute.</p>

<h3 id="tuples-returned">Tuples returned</h3>

<p>Molecule returns all result sets as tuples of values (with <code>get</code>).</p>

<pre><code class="language-scala">val persons: Iterable[(String, Int)] = Person.name.age.get
</code></pre>

<h2 id="molecule-max-size">Molecule max size</h2>

<p>The size of molecules are limited to Scala&rsquo;s arity limit of 22 for tuples. If you need to return more you can
use an additional molecule that takes an entity id and then retrieve further attribute values for that entity.</p>

<p>If we need to insert/return more than 22 attribute values we can easily do this by using the entity id to
work with further attributes/values:</p>

<pre><code class="language-scala">// Insert maximum of 22 facts and return the created entity id
val eid = Ns.someId.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.insert(
    1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22
).eid

// Use entity id to continue adding more values for the same entity
Ns.x.y.z.insert(eid, 23, 24, 25)
</code></pre>

<p>Likewise we can retrieve more than 22 values in 2 steps</p>

<pre><code class="language-scala">val first22values = Ns.someId_(1).b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.get

// Use entity id to continue adding more values
val next3values = Ns.x.y.z.insert(eid, 23, 24, 25)
</code></pre>

</div>

<div class="col-sm-2 column" style="padding-left:20px;padding-top:22px;padding-right: 0px;">
  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm ">
  <ul class="bs-docs-sidenav">
    
      
        
          
            <li><a href="/documentation/">Documentation</a></li>
            
          
        
          
            <li><a href="/documentation/getting-started/">Getting started</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/getting-started/introduction/">Introduction</a></li>
                
              
                
                <li><a href="/documentation/getting-started/quickstart/">Demo quickstart</a></li>
                
              
                
                <li><a href="/documentation/getting-started/project-setup/">Project setup</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/schema/">Schema</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/schema/transaction/">Transaction</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/attributes/">Attributes</a></li>
            
              <ul class="level2">
                
                <li class="active"><b>Basics</b></li>
                
              
                
                <li><a href="/documentation/attributes/modes/">Mandatory/Tacet/Optional</a></li>
                
              
                
                <li><a href="/documentation/attributes/mapped/">Map attributes</a></li>
                
              
                
                <li><a href="/documentation/attributes/expressions/">Expressions</a></li>
                
              
                
                <li><a href="/documentation/attributes/aggregates/">Aggregates</a></li>
                
              
                
                <li><a href="/documentation/attributes/parameterized/">Parameterized</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/entities/">Entities</a></li>
            
          
        
          
            <li><a href="/documentation/relationships/">Relationships</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/relationships/card-one/">Cardinality one</a></li>
                
              
                
                <li><a href="/documentation/relationships/card-many/">Cardinality many</a></li>
                
              
                
                <li><a href="/documentation/relationships/nested/">Nested</a></li>
                
              
                
                <li><a href="/documentation/relationships/composites/">Composites</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/crud/">CRUD</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/crud/save/">Save</a></li>
                
              
                
                <li><a href="/documentation/crud/insert/">Insert</a></li>
                
              
                
                <li><a href="/documentation/crud/get/">Get</a></li>
                
              
                
                <li><a href="/documentation/crud/update/">Update</a></li>
                
              
                
                <li><a href="/documentation/crud/retract/">Retract</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/transactions/">Transactions</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/transactions/tx-data/">Tx data</a></li>
                
              
                
                <li><a href="/documentation/transactions/tx-meta-data/">Tx meta data</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/time/">Time</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/time/asof/">AsOf</a></li>
                
              
                
                <li><a href="/documentation/time/since/">Since</a></li>
                
              
              </ul>
            
          
        
          
            <li><a href="/documentation/graphs/">Graphs</a></li>
            
              <ul class="level2">
                
                <li><a href="/documentation/graphs/self/">Self</a></li>
                
              
                
                <li><a href="/documentation/graphs/other/">Other</a></li>
                
              
                
                <li><a href="/documentation/graphs/edge-self/">Edge self</a></li>
                
              
                
                <li><a href="/documentation/graphs/edge-other/">Edge other</a></li>
                
              
              </ul>
            
          
        
      
    
  </ul>
</nav>
</div>

     
  </div> 
</div> 
<div class="push"></div>
</div> 

<footer class="bs-docs-footer">

  <div class="container">
    <ul class="bs-docs-footer-links">
      <li style="vertical-align: top; margin-top: 0px;"><a href="/front/"><img src="/img/logo/MoleculeLogo200.png" alt=""></a></li>
      <li><a href="https://github.com/scalamolecule/molecule">GitHub</a></li>
      <li><a href="https://groups.google.com/forum/#!forum/molecule-dsl">Forum</a></li>
      <li><a href="/about/">About</a></li>
      <li><a href="/credits/">Credits</a></li>
    </ul>
    <p> Created by Marc Grue. Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="license">Apache License 2.0</a></p>
  </div>
</footer>


<script type="text/javascript" src="/js/jquery-1.11.2.min.js"></script>



<script type="text/javascript" src="/js/bootstrap.min.js"></script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/scripts.js"></script>




<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2787756-3', 'auto');
  ga('send', 'pageview');
</script>
    
</body>
</html>
