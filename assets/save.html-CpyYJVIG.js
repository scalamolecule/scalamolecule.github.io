import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,d as l,e as r,w as t,r as d,o as B,a as s,b as i}from"./app-CokjVCJL.js";const g={};function A(o,a){const e=d("CodeTabs");return B(),p("div",null,[a[6]||(a[6]=l(`<h1 id="save" tabindex="-1"><a class="header-anchor" href="#save"><span>Save</span></a></h1><p>Save an entity by applying data to attributes of a molecule and call <code>save.transact</code> on it:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).save.transact</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age.query.get.head ==&gt; (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><h2 id="optional-attr" tabindex="-1"><a class="header-anchor" href="#optional-attr"><span>Optional attr</span></a></h2><p>Use optional attributes for dynamic optional data</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">val</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> optName</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Some</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// or None</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">val</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> optAge</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  =</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Some</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// or None</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name_?(optName).age_?(optAge).save.transact</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age.query.get.head ==&gt; (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><h2 id="collection-attr" tabindex="-1"><a class="header-anchor" href="#collection-attr"><span>Collection attr</span></a></h2><p>Collection attributes can be saved with a <code>Set</code>, <code>Seq</code> and <code>Map</code> or any subtype of those:</p>`,8)),r(e,{data:[{id:"Set"},{id:"Seq"},{id:"Map"}],"tab-id":"collection"},{title0:t(({value:h,isActive:n})=>a[0]||(a[0]=[i("Set",-1)])),title1:t(({value:h,isActive:n})=>a[1]||(a[1]=[i("Seq",-1)])),title2:t(({value:h,isActive:n})=>a[2]||(a[2]=[i("Map",-1)])),tab0:t(({value:h,isActive:n})=>a[3]||(a[3]=[s("div",{class:"language-scala","data-highlighter":"shiki","data-ext":"scala",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",{class:"language-scala"},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// Main collection type")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".hobbies("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Set"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"stamps"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"trains"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// Collection subtypes")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".hobbies("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"ListSet"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"stamps"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"trains"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".hobbies("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeSet"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"stamps"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"trains"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// etc")])])])],-1)])),tab1:t(({value:h,isActive:n})=>a[4]||(a[4]=[s("div",{class:"language-scala","data-highlighter":"shiki","data-ext":"scala",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",{class:"language-scala"},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// Main collection type")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".scores("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Seq"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"3"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// Collection subtypes")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".scores("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"3"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".scores("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"3"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")])])])],-1)])),tab2:t(({value:h,isActive:n})=>a[5]||(a[5]=[s("div",{class:"language-scala","data-highlighter":"shiki","data-ext":"scala",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",{class:"language-scala"},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// Main collection type")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".langNames("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Map"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"en"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," -> "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"Bob"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"// Collection subtypes")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".langNames("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeMap"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"en"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," -> "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"Bob"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Person"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},".langNames("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"VectorMap"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"en"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," -> "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"Bob"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")).save.transact")])])])],-1)])),_:1}),a[7]||(a[7]=l(`<h2 id="ref" tabindex="-1"><a class="header-anchor" href="#ref"><span>Ref</span></a></h2><p>Additional referenced data can be added, and Molecule will transparently create the relationship:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).save.transact</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street.query.get.head ==&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>Save multiple relationships:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Country</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;USA&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .save.transact</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Country</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.query.get.head ==&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;USA&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>Or use <a href="/database/query/relationships#backref">backrefs</a>:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)._Person</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Education</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.shortName(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Harvard&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .save.transact</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street._Person</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Education</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.shortName.query.get.head ==&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Harvard&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><h2 id="ref-attr" tabindex="-1"><a class="header-anchor" href="#ref-attr"><span>Ref attr</span></a></h2><p>Country is likely a separate entity that we don&#39;t want to create for each new address. In that case we can instead obtain the country id and add it to the ref attribute <code>home</code> to establish the relationship from Address to Country:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">val</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> usaId</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Country</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.id.name_(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;USA&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).query.get.head</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .country(usaId) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// save country id with ref attr</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .save.transact</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.street</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Country</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.query.get.head ==&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bob&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">42</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Main st. 17&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;USA&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><h5 id="save-action-compliance-tests" tabindex="-1"><a class="header-anchor" href="#save-action-compliance-tests"><span><a href="https://github.com/scalamolecule/molecule/tree/main/db/compliance/shared/src/test/scala/molecule/db/compliance/test/action/save" target="_blank" rel="noopener noreferrer"><i class="fas fa-handshake" style="margin-right:4px;"></i> Save action compliance tests</a></span></a></h5>`,11))])}const F=k(g,[["render",A]]),C=JSON.parse('{"path":"/database/transact/save.html","title":"Save","lang":"en-US","frontmatter":{"prev":"/database/setup/db-setup","description":"Save Save an entity by applying data to attributes of a molecule and call save.transact on it: Optional attr Use optional attributes for dynamic optional data Collection attr Co...","toc":{"levels":[2,3]},"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Save\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-09T16:36:22.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.scalamolecule.org/intro/database/transact/save.html"}],["meta",{"property":"og:site_name","content":"Scala Molecule"}],["meta",{"property":"og:title","content":"Save"}],["meta",{"property":"og:description","content":"Save Save an entity by applying data to attributes of a molecule and call save.transact on it: Optional attr Use optional attributes for dynamic optional data Collection attr Co..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-08-09T16:36:22.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-09T16:36:22.000Z"}]]},"git":{"createdTime":1754757382000,"updatedTime":1754757382000,"contributors":[{"name":"marcgrue","username":"marcgrue","email":"marcgrue@gmail.com","commits":1,"url":"https://github.com/marcgrue"}]},"filePathRelative":"database/transact/save.md","autoDesc":true}');export{F as comp,C as data};
