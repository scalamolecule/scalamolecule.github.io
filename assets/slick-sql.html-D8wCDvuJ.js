import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,d as e,o as n}from"./app-CVd4WOaf.js";const l={};function t(h,s){return n(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="slick-sql" tabindex="-1"><a class="header-anchor" href="#slick-sql"><span>Slick SQL</span></a></h1><p>Compare <a href="https://scala-slick.org/doc/stable/sql-to-slick.html" target="_blank" rel="noopener noreferrer">Slick Tutorial</a> sql interpolation code examples with molecules in the following sections or see <a href="#slick-setup">setups</a>.</p><p><em>The molecule examples use the simple synchronous api for brevity. <a href="/database/query/attributes#4-apis">Asynchronous/ZIO/cats.effect.IO</a> apis are also available.</em></p><h3 id="select" tabindex="-1"><a class="header-anchor" href="#select"><span>SELECT *</span></a></h3><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">sql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;select * from PERSON&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.as[</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].list</span></span></code></pre></div><p>With Molecule we only need to fetch the attributes that we need:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.age.query.get</span></span></code></pre></div><p>Returned type is <code>Future[List[(String, Int)]]</code></p><h3 id="select-1" tabindex="-1"><a class="header-anchor" href="#select-1"><span>SELECT</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select AGE, concat(concat(concat(NAME,&#39; (&#39;),ID),&#39;)&#39;)</span></span>
<span class="line"><span>  from PERSON</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[(Int,String)].list</span></span></code></pre></div><p>With Molecule we would concatenate <code>name</code> and <code>id</code> with the returned result set:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.age.name.id.query.get.map(_.map { </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  case</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (age, name, id) =&gt; (age, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">$</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">$</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre></div><h3 id="where" tabindex="-1"><a class="header-anchor" href="#where"><span>WHERE</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;select * from PERSON where AGE &gt;= 18 AND NAME = &#39;C. Vogt&#39;&quot;.as[Person].list</span></span></code></pre></div><p>Molecule filter values by applying a required value to an attribute or supply a value to compare against (<code>&gt;=(18)</code>):</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.age.</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;C. Vogt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).query.get</span></span></code></pre></div><p>(Again we would define which attribute values we want to return)</p><h3 id="order-by" tabindex="-1"><a class="header-anchor" href="#order-by"><span>ORDER BY</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;select * from PERSON order by AGE asc, NAME&quot;.as[Person].list</span></span></code></pre></div><p>Ordering is applied on the result set:</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.age.a1.name.query.get</span></span></code></pre></div><h3 id="aggregations" tabindex="-1"><a class="header-anchor" href="#aggregations"><span>Aggregations</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;select max(AGE) from PERSON&quot;.as[Option[Int]].first</span></span></code></pre></div><p>Aggregate functions like <code>max</code> are all applied as a keyword value to an attribute.</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.age(max).query.get</span></span></code></pre></div><p>or get a range of top 3 values</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.age(max(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)).query.get</span></span></code></pre></div><p>We can aggregate values also with the counterpart <code>min</code> or get a random value with <code>rand</code>. Or perform aggregate calculations with <code>count</code>, <code>countDistinct</code>, <code>sum</code>, <code>avg</code>, <code>median</code>, <code>variance</code> and <code>stddev</code>.</p><h3 id="group-by" tabindex="-1"><a class="header-anchor" href="#group-by"><span>GROUP BY</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select ADDRESS_ID, AVG(AGE)</span></span>
<span class="line"><span>  from PERSON</span></span>
<span class="line"><span>  group by ADDRESS_ID</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[(Int,Option[Int])].list</span></span></code></pre></div><p>Molecule automatically group by attributes not having an aggregate expression. In this case the query will group by <code>address</code> and calculate the average <code>age</code> for persons living there.</p><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.address.age(avg).query.get</span></span></code></pre></div><h3 id="having" tabindex="-1"><a class="header-anchor" href="#having"><span>HAVING</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select ADDRESS_ID</span></span>
<span class="line"><span>  from PERSON</span></span>
<span class="line"><span>  group by ADDRESS_ID</span></span>
<span class="line"><span>  having avg(AGE) &gt; 50</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[Int].list</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.address.age(avg).query.get.map(_.filter(_._2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span></code></pre></div><h3 id="implicit-join" tabindex="-1"><a class="header-anchor" href="#implicit-join"><span>Implicit join</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select P.NAME, A.CITY</span></span>
<span class="line"><span>  from PERSON P, ADDRESS A</span></span>
<span class="line"><span>  where P.ADDRESS_ID = A.id</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[(String,String)].list</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.city.query.get</span></span></code></pre></div><h3 id="inner-join" tabindex="-1"><a class="header-anchor" href="#inner-join"><span>Inner join</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select P.NAME, A.CITY</span></span>
<span class="line"><span>  from PERSON P</span></span>
<span class="line"><span>  join ADDRESS A on P.ADDRESS_ID = A.id</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[(String,String)].list</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.city.query.get</span></span></code></pre></div><h3 id="left-join" tabindex="-1"><a class="header-anchor" href="#left-join"><span>Left join</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select P.NAME,A.CITY</span></span>
<span class="line"><span>  from ADDRESS A</span></span>
<span class="line"><span>  left join PERSON P on P.ADDRESS_ID = A.id</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[(Option[String],String)].list</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Add \`$\` to attribute name to get optional values</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">val</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> persons</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Future</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">List</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Option</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name$.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.city.query.get</span></span></code></pre></div><h3 id="sub-query" tabindex="-1"><a class="header-anchor" href="#sub-query"><span>Sub query</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select *</span></span>
<span class="line"><span>  from PERSON P</span></span>
<span class="line"><span>  where P.ADDRESS_ID in (select ID</span></span>
<span class="line"><span>                 from ADDRESS</span></span>
<span class="line"><span>                 where CITY = &#39;New York City&#39;)</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[Person].list</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.age.name.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.city_(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;New York City&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).query.get</span></span></code></pre></div><h3 id="insert" tabindex="-1"><a class="header-anchor" href="#insert"><span>INSERT</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sqlu&quot;&quot;&quot;</span></span>
<span class="line"><span>  insert into PERSON (NAME, AGE, ADDRESS_ID) values (&#39;M Odersky&#39;, 12345, 1)</span></span>
<span class="line"><span>&quot;&quot;&quot;.first</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;M Odersky&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12345</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).address(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).save</span></span></code></pre></div><h3 id="update" tabindex="-1"><a class="header-anchor" href="#update"><span>UPDATE</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sqlu&quot;&quot;&quot;</span></span>
<span class="line"><span>  update PERSON set NAME=&#39;M. Odersky&#39;, AGE=54321 where NAME=&#39;M Odersky&#39;</span></span>
<span class="line"><span>&quot;&quot;&quot;.first</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // Find entity id with generic Molecule attribute \`e\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  oderskyId &lt;- </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.id.name_(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;M Odersky&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).query.get.map(_.head)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  _ &lt;- </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(oderskyId).name(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;M. Odersky&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).age(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">54321</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).update</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">yield</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ()</span></span></code></pre></div><h3 id="delete" tabindex="-1"><a class="header-anchor" href="#delete"><span>DELETE</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sqlu&quot;&quot;&quot;</span></span>
<span class="line"><span>  delete PERSON where NAME=&#39;M. Odersky&#39;</span></span>
<span class="line"><span>&quot;&quot;&quot;.first</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Retract entity by calling \`retract\` on the entity id</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.id.name_(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;M. Odersky&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).query.get.map(_.head.retract)</span></span></code></pre></div><h3 id="case" tabindex="-1"><a class="header-anchor" href="#case"><span>CASE</span></a></h3><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql&quot;&quot;&quot;</span></span>
<span class="line"><span>  select</span></span>
<span class="line"><span>    case </span></span>
<span class="line"><span>      when ADDRESS_ID = 1 then &#39;A&#39;</span></span>
<span class="line"><span>      when ADDRESS_ID = 2 then &#39;B&#39;</span></span>
<span class="line"><span>    end</span></span>
<span class="line"><span>  from PERSON P</span></span>
<span class="line"><span>&quot;&quot;&quot;.as[Option[String]].list</span></span></code></pre></div><div class="language-scala" data-highlighter="shiki" data-ext="scala" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-scala"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.address(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> or </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).query.get.map(_.map {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  case</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;A&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  case</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;B&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre></div>`,59)])])}const r=a(l,[["render",t]]),d=JSON.parse('{"path":"/database/sql-libs/tutorials/slick-sql.html","title":"Slick SQL","lang":"en-US","frontmatter":{"description":"Slick SQL Compare Slick Tutorial sql interpolation code examples with molecules in the following sections or see setups. The molecule examples use the simple synchronous api for...","toc":{"levels":[2,3]},"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Slick SQL\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-18T21:19:02.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.scalamolecule.org/intro/database/sql-libs/tutorials/slick-sql.html"}],["meta",{"property":"og:site_name","content":"Scala Molecule"}],["meta",{"property":"og:title","content":"Slick SQL"}],["meta",{"property":"og:description","content":"Slick SQL Compare Slick Tutorial sql interpolation code examples with molecules in the following sections or see setups. The molecule examples use the simple synchronous api for..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2026-01-18T21:19:02.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-18T21:19:02.000Z"}]]},"git":{"createdTime":1768771142000,"updatedTime":1768771142000,"contributors":[{"name":"marcgrue","username":"marcgrue","email":"marcgrue@gmail.com","commits":1,"url":"https://github.com/marcgrue"}]},"filePathRelative":"database/sql-libs/tutorials/slick-sql.md","autoDesc":true}');export{r as comp,d as data};
